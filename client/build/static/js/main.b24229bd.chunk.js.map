{"version":3,"sources":["components/Chat/Chat.js","components/Login/Login.js","components/InfoBar/InfoBar.js","components/Icons/onlineIcon.png","components/Icons/closeIcon.png","components/Input/Input.js","components/Message/Message.js","components/Messages/Messages.js","App.js","index.js"],"names":["socket","Login","useState","name","setName","room","setRoom","className","placeholder","type","onChange","event","target","value","onClick","preventDefault","to","InfoBar","src","alt","href","Input","message","setMessage","sendMessage","onKeyPress","key","Message","text","user","isSentByCurrentUser","trimmedName","undefined","trim","toLowerCase","ReactEmoji","emojify","Messages","messages","map","i","Chat","location","setMessages","ENDPOINT","useEffect","queryString","parse","search","io","console","log","emit","off","on","App","path","exact","component","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.b24229bd.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport queryString from 'query-string';\r\nimport io from 'socket.io-client';\r\nimport './Chat.css';\r\n\r\nimport InfoBar from '../InfoBar/InfoBar';\r\nimport Input from '../Input/Input';\r\nimport Messages from '../Messages/Messages';\r\nimport Message from '../Message/Message';\r\nlet socket;\r\n\r\nconst Chat = ({ location }) => {\r\n    const [name, setName] = useState('');\r\n    const [room, setRoom] = useState('');\r\n    const [messages, setMessages] = useState([]); // Messages array\r\n    const [message, setMessage] = useState(''); // Each individual message\r\n    const ENDPOINT = 'https://group-chat-react-node.herokuapp.com/';\r\n    \r\n    useEffect(() => {\r\n        const {name, room} = queryString.parse(location.search);\r\n        socket = io(ENDPOINT); //Modify this to change target server\r\n        console.log('test');\r\n        setName(name);\r\n        setRoom(room);\r\n\r\n        socket.emit('login', { name, room }, () => {\r\n            //error\r\n        });\r\n\r\n        return () => {\r\n            socket.emit('disconnect');\r\n            socket.off();\r\n        }\r\n    }, [ENDPOINT, location.search]);\r\n\r\n\r\n    useEffect(() => {\r\n        socket.on('message', (message) => {\r\n            setMessages([...messages, message]);\r\n        })\r\n    }, [messages]);\r\n\r\n    //sending message (sendMessage())\r\n    const sendMessage = event => {\r\n        event.preventDefault(); // Prevent a full refresh\r\n        if(message) {\r\n            socket.emit('sendMessage', message, () => setMessage(''));\r\n        }\r\n    }\r\n\r\n    console.log(message, messages);\r\n\r\n    return (\r\n        <div className=\"outerContainer\">\r\n            <div className=\"container\">\r\n                <InfoBar room={room} />\r\n                <Messages messages={messages} name={name}/>\r\n                <Input message = {message} setMessage = {setMessage} sendMessage = {sendMessage} />\r\n                {/*<input value = {message}\r\n                onChange = {(event) => setMessage(event.target.value)}\r\n                onKeyPress={event => event.key === 'Enter' ? sendMessage(event) : null}\r\n                />*/}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Chat;","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './Login.css';\r\n\r\nconst Login = () => {\r\n    const [name, setName] = useState('');\r\n    const [room, setRoom] = useState('');\r\n\r\n    return (\r\n        <div className=\"loginOuterContainer\">\r\n            <div className=\"loginInnerContainer\">\r\n                <h1 className = \"heading\">Login</h1>\r\n                <div><input placeholder=\"Name\" className=\"loginInput\" type=\"text\" onChange={(event) => setName(event.target.value)} /></div>\r\n                <div><input placeholder=\"Room\" className=\"loginInput mt-20\" type=\"text\" onChange={(event) => setRoom(event.target.value)} /></div>\r\n                <Link onClick={event => (!name || !room) ? event.preventDefault() : null} to={`/chat?name=${name}&room=${room}`}>\r\n                    <button className = {'button mt-20'} type=\"submit\">Sign in</button>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\n\r\nimport './InfoBar.css';\r\nimport onlineIcon from '../Icons/onlineIcon.png';\r\nimport closeIcon from '../Icons/closeIcon.png';\r\n\r\nconst InfoBar = ({room}) => (\r\n    <div className=\"infoBar\">\r\n        <div className=\"leftInnerContainer\">\r\n            <img className=\"onlineIcon\" src={onlineIcon} alt=\"online image\" />\r\n            <h3>{room}</h3>\r\n        </div>\r\n\r\n        <div className=\"rightInnerContainer\">\r\n            <a href=\"/\"><img src={closeIcon} alt=\"close image\" /></a>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default InfoBar;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=\"","import React from 'react';\r\n\r\nimport './Input.css';\r\n\r\n\r\nconst Input = ({message, setMessage, sendMessage}) => (\r\n <form className=\"form\">\r\n     <input\r\n        className = \"input\"\r\n        type = \"text\"\r\n        placeholder = \"Type here...\"\r\n        value = {message}\r\n        onChange = {event => setMessage(event.target.value)}\r\n        onKeyPress = {event => event.key === 'Enter' ? sendMessage(event) : null}\r\n     />\r\n     <button className=\"sendButton\" onClick={event => sendMessage(event)}>Send</button>\r\n </form>\r\n);\r\n\r\nexport default Input;","import React from 'react';\r\n\r\nimport './Message.css';\r\n\r\nimport ReactEmoji from 'react-emoji';\r\n\r\nconst Message = ({ message: { text, user }, name }) => {\r\n  let isSentByCurrentUser = false;\r\n\r\n  //Temporary assign empty string if name is null\r\n  const trimmedName = (name == undefined) ? '' : name.trim().toLowerCase();\r\n\r\n  if(user === trimmedName) {\r\n    isSentByCurrentUser = true;\r\n  }\r\n\r\n  return (\r\n    isSentByCurrentUser\r\n      ? (\r\n        <div className=\"messageContainer justifyEnd\">\r\n          <p className=\"sentText pr-10\">{trimmedName}</p>\r\n          <div className=\"messageBox backgroundBlue\">\r\n            <p className=\"messageText colorWhite\">{ReactEmoji.emojify(text)}</p>\r\n          </div>\r\n        </div>\r\n        )\r\n        : (\r\n          <div className=\"messageContainer justifyStart\">\r\n            <div className=\"messageBox backgroundLight\">\r\n              <p className=\"messageText colorDark\">{ReactEmoji.emojify(text)}</p>\r\n            </div>\r\n            <p className=\"sentText pl-10 \">{user}</p>\r\n          </div>\r\n        )\r\n  );\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\n\r\nimport Message from '../Message/Message';\r\nimport './Messages.css';\r\n\r\n\r\nconst Messages = ({messages, name}) => (\r\n    <ScrollToBottom className=\"messages\">\r\n        {messages.map((message, i) => <div key = {i}><Message message={message} name={name}/></div>)}\r\n    </ScrollToBottom>\r\n);\r\n\r\nexport default Messages;","import React from 'react';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\n\r\nimport Login from './components/Login/Login';\r\nimport Chat from './components/Chat/Chat';\r\n\r\nconst App = () => (\r\n    <Router>\r\n        <Route path=\"/\" exact component={Login} />\r\n        <Route path=\"/chat\" exact component={Chat} />\r\n    </Router>\r\n);\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.querySelector('#root'));"],"sourceRoot":""}